<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Bookmates Документация - Wiki от Вики</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a class="navbar-brand" href="../..">Wiki от Вики</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Главная</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Тестирование ПО <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../testing-po/testing-part-1/" class="dropdown-item">Что такое тестирование</a>
</li>
                                    
<li>
    <a href="../../testing-po/testing-part-2/" class="dropdown-item">Жизненный цикл ПО/задачи</a>
</li>
                                    
<li>
    <a href="../../testing-po/testing-part-3/" class="dropdown-item">Классификация тестирования</a>
</li>
                                    
<li>
    <a href="../../testing-po/testing-part-4/" class="dropdown-item">Тестовая документация</a>
</li>
                                    
<li>
    <a href="../../testing-po/testing-part-5/" class="dropdown-item">Баг. Баг-репорт</a>
</li>
                                    
<li>
    <a href="../../testing-po/testing-part-6/" class="dropdown-item">Что такое веб-приложение</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Тестирование API <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../testingapi-part-1/" class="dropdown-item">Что такое API</a>
</li>
                                    
<li>
    <a href="../testingapi-part-2/" class="dropdown-item">Стратегия тестирования API</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Bookmates Документация</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Базы данных. SQL <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../db-sql/db/" class="dropdown-item">Базы данных</a>
</li>
                                    
<li>
    <a href="../../db-sql/sql/" class="dropdown-item">SQL.</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Вопросы для собеседования <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../interview/interview_questions/" class="dropdown-item">Вопросы для собеседования</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../testingapi-part-2/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../db-sql/db/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#bookmates" class="nav-link">Документация Bookmates</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#_1" class="nav-link">О проекте</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#user" class="nav-link">User</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#authentication" class="nav-link">Authentication</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#book" class="nav-link">Book</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#vote" class="nav-link">Vote</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="bookmates">Документация Bookmates</h1>
<h2 id="_1">О проекте</h2>
<p>Bookmates - дает возможность зарегистрироваться и постить свои заметки о книгах, собирать лайки и комментарии.
Находить единомышленников, обсуждать книги, проводить совместные чтения.
Отслеживать свой прогресс по чтению, делать заметки в ходе чтения.
Искать любые посты об интересных тебе книгах.</p>
<h2 id="user">User</h2>
<h3 id="create-user-">Create User - Метод регистрации пользователя</h3>
<p><strong>Request</strong></p>
<p>POST
{{url}}/users</p>
<p>Параметры запроса (raw json)</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
</tr>
</thead>
<tbody>
<tr>
<td>email</td>
<td>email пользователя</td>
<td>Да</td>
</tr>
<tr>
<td>password</td>
<td>Пароль пользователя</td>
<td>Да</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_2">Успешная обработка запроса:</h4>
<p>Код ответа - 201 Created  <br />
И  объект в формате json  </p>
<pre><code class="language-json">{
&quot;id&quot;: &quot;id&quot;, 
&quot;email&quot;: &quot;email&quot;
}
</code></pre>
<h4 id="_3">Неуспешная обработка запроса:</h4>
<ul>
<li>Данный пользователь уже зарегистрирован в системе      <br />
  Код ответа - 409      <br />
  И  объект в формате json   </li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;User with this email is already registered&quot;
}
</code></pre>
<ul>
<li>Не переданы обязательные параметры или переданы некорректные значения      <br />
  Код ответа - 422      <br />
  И  объект в формате json с указанием на ошибку</li>
</ul>
<hr />
<h3 id="get-user-">Get User - Метод поиска пользователя</h3>
<p><strong>Request</strong></p>
<p>GET </p>
<p>{{url}}/users/{{id}}</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Уникальный идентификатор пользователя</td>
<td>Да</td>
<td>Integer</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_4">Успешная обработка запроса:</h4>
<p>Код ответа - 200 Ok  <br />
И  объект в формате json </p>
<pre><code class="language-json">{
&quot;id&quot;: &quot;id&quot;,
&quot;email&quot;: &quot;email&quot;
}
</code></pre>
<h4 id="_5">Неуспешная обработка запроса:</h4>
<ul>
<li>Данный пользователь Не зарегистрирован в системе      <br />
  Код ответа - 404 Not Found
  И  объект в формате json </li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;User with id {{id}} was not found&quot;
}
</code></pre>
<ul>
<li>Не переданы обязательные параметры
  Код ответа - 405 Method Not Allowed
  И  объект в формате json</li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;Method Not Allowed&quot;
}
</code></pre>
<ul>
<li>В параметре передано невалидное значение
  Код ответа - 422 Unprocessable Entity
  И  объект в формате json с указанием на ошибку</li>
</ul>
<hr />
<h2 id="authentication">Authentication</h2>
<h3 id="login-user-">Login User - Метод авторизации пользователя</h3>
<p>!!! Токен авторизации действителен в течение 30 минут</p>
<p><strong>Request</strong></p>
<p>POST</p>
<p>{{url}}/login </p>
<p>Параметры запроса (form-data)</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
</tr>
</thead>
<tbody>
<tr>
<td>username</td>
<td>email пользователя</td>
<td>Да</td>
</tr>
<tr>
<td>password</td>
<td>Пароль пользователя</td>
<td>Да</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_6">Успешная обработка запроса:</h4>
<p>Код ответа - 200 Ок
И  объект в формате json </p>
<pre><code class="language-json">{
&quot;access_token&quot;: &quot;access_token&quot;,
&quot;token_type&quot;: &quot;bearer&quot;  
}
</code></pre>
<h4 id="_7">Неуспешная обработка запроса:</h4>
<ul>
<li>Данные пользователя не зарегистрированы в системе      <br />
  Код ответа - 404
  И  объект в формате json </li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;Invalid credentials&quot;
}
</code></pre>
<ul>
<li>Не переданы обязательные параметры      <br />
  Код ответа - 422    <br />
  И  объект в формате json с указанием на отсутствующий параметр</li>
</ul>
<hr />
<h2 id="book">Book</h2>
<h3 id="get-books-">Get Books - Метод поиска книг</h3>
<p><strong>Request</strong></p>
<p>GET
{{url}}/books?[limit=10]&amp;[rating=None]</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
<th>Тип</th>
<th>Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td>limit</td>
<td>Количество записей для вывода пользователю</td>
<td>Нет</td>
<td>Integer</td>
<td>10</td>
</tr>
<tr>
<td>rating</td>
<td>Рэйтинг книг. Пользователь увидит список книг с рейтингом, равным или больше указанного</td>
<td>Нет</td>
<td>Float</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_8">Успешная обработка запроса:</h4>
<p>Код ответа - 200 Ok  <br />
И  объект в формате json </p>
<pre><code class="language-json">[
{
 &quot;title&quot;: &quot;title&quot;,
 &quot;author&quot;: &quot;author&quot;,
 &quot;rating&quot;: 0.0,            
 &quot;id&quot;: &quot;id&quot;,
 &quot;created_at&quot;: &quot;datatime&quot;,
 &quot;owner_id&quot;: &quot;id&quot;,
 &quot;owner&quot;: {
    &quot;id&quot;: &quot;id&quot;,
    &quot;email&quot;: &quot;email&quot;
    }
 },
 {}
]
</code></pre>
<table>
<thead>
<tr>
<th>Поле</th>
<th>Описание</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>Название книги</td>
<td>string</td>
</tr>
<tr>
<td>author</td>
<td>Автор книги</td>
<td>string</td>
</tr>
<tr>
<td>rating</td>
<td>Рейтинг книги, по мнению пользователя, запостившего эту запись</td>
<td>float</td>
</tr>
<tr>
<td>id</td>
<td>Уникальный идентификатор записи о книге</td>
<td>integer</td>
</tr>
<tr>
<td>created_at</td>
<td>Дата создания записи о книге</td>
<td>datatime</td>
</tr>
<tr>
<td>owner_id</td>
<td>Уникальный идентификатор пользователя, запостившего книгу</td>
<td>integer</td>
</tr>
<tr>
<td>owner_id/id</td>
<td>Уникальный идентификатор пользователя, запостившего книгу</td>
<td>integer</td>
</tr>
<tr>
<td>owner_id/email</td>
<td>Емейл пользователя, запостившего книгу</td>
<td>string</td>
</tr>
</tbody>
</table>
<h4 id="_9">Неуспешная обработка запроса:</h4>
<ul>
<li>В параметре передано невалидное значение      <br />
  Код ответа - 422 Unprocessable Entity      <br />
  И  объект в формате json с указанием на ошибку</li>
</ul>
<hr />
<h3 id="get-books-by-title-">Get Books by title - Метод поиска книг по названию</h3>
<p><strong>Request</strong></p>
<p>GET
{{url}}/books/by-title/{title}?[limit=10]&amp;[rating=None]</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
<th>Тип</th>
<th>Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>Название книги</td>
<td>Да</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>limit</td>
<td>Количество записей для вывода пользователю</td>
<td>Нет</td>
<td>Integer</td>
<td>10</td>
</tr>
<tr>
<td>rating</td>
<td>Рэйтинг книг. Пользователь увидит список книг с рейтингом, равным или больше указанного</td>
<td>Нет</td>
<td>Float</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_10">Успешная обработка запроса:</h4>
<p>Код ответа - 200 Ok
И  объект в формате json </p>
<pre><code class="language-json">[
{
&quot;title&quot;: &quot;title&quot;,
&quot;author&quot;: &quot;author&quot;,
&quot;rating&quot;: 0.0,
&quot;id&quot;: &quot;id&quot;,
&quot;created_at&quot;: &quot;datatime&quot;,
&quot;owner_id&quot;: &quot;id&quot;,
&quot;owner&quot;: {
    &quot;id&quot;: &quot;id&quot;,
    &quot;email&quot;: &quot;email&quot;
    }
},
{}
]
</code></pre>
<table>
<thead>
<tr>
<th>Поле</th>
<th>Описание</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>Название книги</td>
<td>string</td>
</tr>
<tr>
<td>author</td>
<td>Автор книги</td>
<td>string</td>
</tr>
<tr>
<td>rating</td>
<td>Рейтинг книги, по мнению пользователя, запостившего эту запись</td>
<td>float</td>
</tr>
<tr>
<td>id</td>
<td>Уникальный идентификатор записи о книге</td>
<td>integer</td>
</tr>
<tr>
<td>created_at</td>
<td>Дата создания записи о книге</td>
<td>datatime</td>
</tr>
<tr>
<td>owner_id</td>
<td>Уникальный идентификатор пользователя, запостившего книгу</td>
<td>integer</td>
</tr>
<tr>
<td>owner_id/id</td>
<td>Уникальный идентификатор пользователя, запостившего книгу</td>
<td>integer</td>
</tr>
<tr>
<td>owner_id/email</td>
<td>Емейл пользователя, запостившего книгу</td>
<td>string</td>
</tr>
</tbody>
</table>
<h4 id="_11">Неуспешная обработка запроса:</h4>
<ul>
<li>В параметре передано невалидное значение      <br />
  Код ответа - 422 Unprocessable Entity      <br />
  И  объект в формате json с указанием на ошибку</li>
</ul>
<hr />
<h3 id="get-books-by-author-">Get Books by author - Метод поиска книг по автору</h3>
<p><strong>Request</strong></p>
<p>GET
{{url}}/books/by-author/{author}?[limit=10]&amp;[rating=None]</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
<th>Тип</th>
<th>Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td>author</td>
<td>Автор книги</td>
<td>Да</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>limit</td>
<td>Количество записей для вывода пользователю</td>
<td>Нет</td>
<td>Integer</td>
<td>10</td>
</tr>
<tr>
<td>rating</td>
<td>Рэйтинг книг. Пользователь увидит список книг с рейтингом, равным или больше указанного</td>
<td>Нет</td>
<td>Float</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_12">Успешная обработка запроса:</h4>
<p>Код ответа - 200 Ok  <br />
И  объект в формате json </p>
<pre><code class="language-json">[
{
&quot;title&quot;: &quot;title&quot;,
&quot;author&quot;: &quot;author&quot;,
&quot;rating&quot;: 0.0,
&quot;id&quot;: &quot;id&quot;,
&quot;created_at&quot;: &quot;datatime&quot;,
&quot;owner_id&quot;: &quot;id&quot;,
&quot;owner&quot;: {
    &quot;id&quot;: &quot;id&quot;,
    &quot;email&quot;: &quot;email&quot;
    }
},
{}
]
</code></pre>
<table>
<thead>
<tr>
<th>Поле</th>
<th>Описание</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>Название книги</td>
<td>string</td>
</tr>
<tr>
<td>author</td>
<td>Автор книги</td>
<td>string</td>
</tr>
<tr>
<td>rating</td>
<td>Рейтинг книги, по мнению пользователя, запостившего эту запись</td>
<td>float</td>
</tr>
<tr>
<td>id</td>
<td>Уникальный идентификатор записи о книге</td>
<td>integer</td>
</tr>
<tr>
<td>created_at</td>
<td>Дата создания записи о книге</td>
<td>datatime</td>
</tr>
<tr>
<td>owner_id</td>
<td>Уникальный идентификатор пользователя, запостившего книгу</td>
<td>integer</td>
</tr>
<tr>
<td>owner_id/id</td>
<td>Уникальный идентификатор пользователя, запостившего книгу</td>
<td>integer</td>
</tr>
<tr>
<td>owner_id/email</td>
<td>Емейл пользователя, запостившего книгу</td>
<td>string</td>
</tr>
</tbody>
</table>
<h4 id="_13">Неуспешная обработка запроса:</h4>
<ul>
<li>В параметре передано невалидное значение      <br />
Код ответа - 422 Unprocessable Entity      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<hr />
<h3 id="create-book-">Create Book - Метод создания записи о книге</h3>
<p><strong>Request</strong></p>
<p>POST (Метод доступен только авторизованным пользователям)
{{url}}/books</p>
<p>Параметры запроса (raw json)</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>Название книги</td>
<td>Да</td>
<td>string</td>
</tr>
<tr>
<td>author</td>
<td>Автор книги</td>
<td>Нет</td>
<td>string</td>
</tr>
<tr>
<td>rating</td>
<td>Рейтинг книги по мнению пользователя</td>
<td>Нет</td>
<td>float</td>
</tr>
<tr>
<td>description</td>
<td>Заметки/Мнение о книге</td>
<td>Нет</td>
<td>string</td>
</tr>
<tr>
<td>status_of_book</td>
<td>Статус книги (Читаю/Прочитана/Отложена)</td>
<td>Да</td>
<td>string</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_14">Успешная обработка запроса:</h4>
<p>Код ответа - 201 Created  <br />
И  объект в формате json     </p>
<pre><code class="language-json">{
&quot;title&quot;: &quot;title&quot;,
&quot;author&quot;: &quot;author&quot;,
&quot;rating&quot;: &quot;rating&quot;,
&quot;description&quot;: &quot;description&quot;,
&quot;status_of_book&quot;: &quot;status_of_book&quot;,
&quot;id&quot;: &quot;id&quot;, 
&quot;created_at&quot;: &quot;datatime&quot;,
&quot;owner_id&quot;: &quot;id&quot;,
&quot;owner&quot;: {
    &quot;id&quot;: &quot;id&quot;,
    &quot;email&quot;: &quot;email&quot;
    }
}
</code></pre>
<h4 id="_15">Неуспешная обработка запроса:</h4>
<ul>
<li>Не переданы обязательные параметры или переданы некорректные значения      <br />
Код ответа - 422      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<hr />
<h3 id="update-book-">Update Book - Метод создания записи о книге</h3>
<p><strong>Request</strong></p>
<p>PUT (Метод доступен только авторизованным пользователям)
{{url}}/books/{{id}}</p>
<p>Path parameter: id - Уникальный идентификатор книги (Integer), Обязательный</p>
<p>Параметры запроса (raw json)</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>Название книги</td>
<td>Да</td>
<td>string</td>
</tr>
<tr>
<td>author</td>
<td>Автор книги</td>
<td>Нет</td>
<td>string</td>
</tr>
<tr>
<td>rating</td>
<td>Рейтинг книги по мнению пользователя</td>
<td>Нет</td>
<td>float</td>
</tr>
<tr>
<td>description</td>
<td>Заметки/Мнение о книге</td>
<td>Нет</td>
<td>string</td>
</tr>
<tr>
<td>status_of_book</td>
<td>Статус книги (Читаю/Прочитана/Отложена)</td>
<td>Да</td>
<td>string</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_16">Успешная обработка запроса:</h4>
<p>Код ответа - 200 Ok  <br />
И  объект в формате json     </p>
<pre><code class="language-json">{
&quot;title&quot;: &quot;title&quot;,
&quot;author&quot;: &quot;author&quot;,
&quot;rating&quot;: &quot;rating&quot;,
&quot;description&quot;: &quot;description&quot;,
&quot;status_of_book&quot;: &quot;status_of_book&quot;,    
&quot;id&quot;: &quot;id&quot;, 
&quot;created_at&quot;: &quot;datatime&quot;,
&quot;owner_id&quot;: &quot;id&quot;,
    &quot;owner&quot;: {
        &quot;id&quot;: &quot;id&quot;,
        &quot;email&quot;: &quot;email&quot;
    }
}
</code></pre>
<h4 id="_17">Неуспешная обработка запроса:</h4>
<ul>
<li>Отсутствует запись с указанным id      <br />
Код ответа - 404 Not Found      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;book with id {id} was not found&quot;
} 
</code></pre>
<ul>
<li>Не переданы обязательные параметры или переданы некорректные значения      <br />
Код ответа - 422      <br />
И  объект в формате json с указанием на ошибку        </li>
</ul>
<hr />
<h3 id="delete-book-">Delete Book - Метод удаления записи о книге</h3>
<p><strong>Request</strong></p>
<p>DELETE (Метод доступен только авторизованным пользователям)
{{url}}/books/{{id}}</p>
<p>Path parameter:</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Уникальный идентификатор книги</td>
<td>Да</td>
<td>Integer</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_18">Успешная обработка запроса:</h4>
<p>Код ответа - 204 No Content    </p>
<h4 id="_19">Неуспешная обработка запроса:</h4>
<ul>
<li>Отсутствует запись с указанным id      <br />
Код ответа - 404 Not Found      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;book with id {id} was not found&quot;
}
</code></pre>
<ul>
<li>Пользователь не авторизован или токен авторизации истек
Код ответа - 403 Forbidden      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;Not authorized to perform requested action&quot;
}
</code></pre>
<ul>
<li>Не переданы обязательные параметры или переданы некорректные значения      <br />
Код ответа - 422      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<hr />
<h3 id="get-book-id">Get Book - Метод поиска конкретной книги по указанному id</h3>
<p><strong>Request</strong></p>
<p>GET 
{{url}}/books/{{id}}</p>
<p>Path parameter:</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Уникальный идентификатор книги</td>
<td>Да</td>
<td>Integer</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_20">Успешная обработка запроса:</h4>
<p>Код ответа - 200 Ok  <br />
И  объект в формате json </p>
<pre><code class="language-json">{
&quot;title&quot;: &quot;title&quot;,
&quot;author&quot;: &quot;author&quot;,
&quot;rating&quot;: 0.0,
&quot;id&quot;: &quot;id&quot;,
&quot;created_at&quot;: &quot;datatime&quot;,
&quot;owner_id&quot;: &quot;id&quot;,
&quot;owner&quot;: {
    &quot;id&quot;: &quot;id&quot;,
    &quot;email&quot;: &quot;email&quot;
    }
}
</code></pre>
<table>
<thead>
<tr>
<th>Поле</th>
<th>Описание</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>Название книги</td>
<td>string</td>
</tr>
<tr>
<td>author</td>
<td>Автор книги</td>
<td>string</td>
</tr>
<tr>
<td>rating</td>
<td>Рейтинг книги, по мнению пользователя, запостившего эту запись</td>
<td>float</td>
</tr>
<tr>
<td>id</td>
<td>Уникальный идентификатор записи о книге</td>
<td>integer</td>
</tr>
<tr>
<td>created_at</td>
<td>Дата создания записи о книге</td>
<td>datatime</td>
</tr>
<tr>
<td>owner_id</td>
<td>Уникальный идентификатор пользователя, запостившего книгу</td>
<td>integer</td>
</tr>
<tr>
<td>owner_id/id</td>
<td>Уникальный идентификатор пользователя, запостившего книгу</td>
<td>integer</td>
</tr>
<tr>
<td>owner_id/email</td>
<td>Емейл пользователя, запостившего книгу</td>
<td>string</td>
</tr>
</tbody>
</table>
<h4 id="_21">Неуспешная обработка запроса:</h4>
<ul>
<li>Отсутствует запись с указанным id      <br />
Код ответа - 404 Not Found      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;book with id {id} was not found&quot;
}
</code></pre>
<ul>
<li>Пользователь не авторизован или токен авторизации истек
Код ответа - 403 Forbidden      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;Not authorized to perform requested action&quot;
}
</code></pre>
<ul>
<li>Не переданы обязательные параметры или переданы некорректные значения      <br />
Код ответа - 422 Unprocessable Entity      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<hr />
<h2 id="vote">Vote</h2>
<h3 id="create-vote-">Create vote - Метод отправки лайка для записи о книге</h3>
<p><strong>Request</strong></p>
<p>POST (Метод доступен только авторизованным пользователям)
{{url}}/votes/{{id}}</p>
<p>Path parameter: id - Уникальный идентификатор книги (Integer), Обязательный</p>
<p>Параметры запроса (raw json)</p>
<table>
<thead>
<tr>
<th>Параметр</th>
<th>Описание</th>
<th>Обязательность</th>
<th>Тип</th>
</tr>
</thead>
<tbody>
<tr>
<td>book_id</td>
<td>Идентификатор книги</td>
<td>Да</td>
<td>Integer</td>
</tr>
<tr>
<td>dir</td>
<td>Флаг: ставим или удаляем лайк  (1 - ставим, 0 - удаляем)</td>
<td>Да</td>
<td>Integer</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<h4 id="_22">Успешная обработка запроса:</h4>
<p>Код ответа - 201 Created  <br />
И  объект в формате json     </p>
<pre><code class="language-json">{
&quot;msg&quot;: &quot;successfully added vote&quot;
}
</code></pre>
<p>или</p>
<pre><code class="language-json">{
&quot;msg&quot;: &quot;successfully deleted vote&quot;
}
</code></pre>
<h4 id="_23">Неуспешная обработка запроса:</h4>
<ul>
<li>Отсутствует запись с указанным id      <br />
Код ответа - 404 Not Found      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;book with id {id} was not found&quot;
}
</code></pre>
<ul>
<li>Пользователь не авторизован или токен авторизации истек
Код ответа - 403 Forbidden      <br />
И  объект в формате json с указанием на ошибку</li>
</ul>
<pre><code class="language-json">{
&quot;detail&quot;: &quot;Not authorized to perform requested action&quot;
}
</code></pre>
<ul>
<li>Пользователь пытается повторно поставить лайк
Код ответа - 409 Conflict      <br />
И  объект в формате json с указанием на ошибку
```json
{
"detail": "user {user_id} has alredy voted on book {book_id}"
}</li>
<li>Пользователь пытается повторно удалить лайк
Код ответа - 404 Not Found       <br />
И  объект в формате json с указанием на ошибку
```json
{
"detail": "Vote does not exist"
}</li>
</ul>
<hr /></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
